import{s as W,n as B,o as he,r as me}from"../chunks/scheduler.Ce_0Mfso.js";import{S as G,i as Q,e as v,s as E,t as P,n as ee,c as g,k as M,f as I,a as H,b as N,d as a,l as S,r as J,g as w,h as m,m as K,j as z,D as te,w as se,A as de,x as le,y as ne,q as re,o as ie,z as oe}from"../chunks/index.CT52lF6p.js";const _e=!0,je=Object.freeze(Object.defineProperty({__proto__:null,prerender:_e},Symbol.toStringTag,{value:"Module"})),ve=""+new URL("../assets/svelte-welcome.0pIiHnVF.webp",import.meta.url).href,ge=""+new URL("../assets/svelte-welcome.VNiyy3gC.png",import.meta.url).href;function be(r){let e;return{c(){e=P("開始")},l(t){e=N(t,"開始")},m(t,s){w(t,e,s)},d(t){t&&a(e)}}}function ke(r){let e;return{c(){e=P("停止")},l(t){e=N(t,"停止")},m(t,s){w(t,e,s)},d(t){t&&a(e)}}}function ae(r){let e;return{c(){e=v("span"),this.h()},l(t){e=g(t,"SPAN",{class:!0}),H(e).forEach(a),this.h()},h(){S(e,"class","recording-indicator svelte-c5c5lg")},m(t,s){w(t,e,s)},d(t){t&&a(e)}}}function ce(r){let e,t="ここに認識結果が表示されます";return{c(){e=v("span"),e.textContent=t,this.h()},l(s){e=g(s,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1kcvllc"&&(e.textContent=t),this.h()},h(){S(e,"class","placeholder svelte-c5c5lg")},m(s,n){w(s,e,n)},d(s){s&&a(e)}}}function fe(r){let e,t;return{c(){e=v("div"),t=P(r[4]),this.h()},l(s){e=g(s,"DIV",{class:!0});var n=H(e);t=N(n,r[4]),n.forEach(a),this.h()},h(){S(e,"class","error svelte-c5c5lg")},m(s,n){w(s,e,n),m(e,t)},p(s,n){n&16&&z(t,s[4])},d(s){s&&a(e)}}}function we(r){let e,t="ブラウザによる音声認識のテスト",s,n,i,p,f,c,d,b,C,y,x,l,h,u,_,D='<span class="final svelte-c5c5lg">青: 認識完了</span> / <span class="interim svelte-c5c5lg">赤: 認識途中</span>',V,L,F,X;function Y(o,k){return o[2]?ke:be}let U=Y(r),j=U(r),R=r[2]&&ae(),A=r[1]===""&&r[0]===""&&ce(),T=r[4]&&fe(r);return{c(){e=v("h1"),e.textContent=t,s=E(),n=v("div"),i=v("button"),p=P("音声認識を"),j.c(),f=E(),R&&R.c(),c=E(),d=v("div"),A&&A.c(),b=E(),C=v("span"),y=P(r[1]),x=E(),l=v("span"),h=P(r[0]),u=E(),_=v("div"),_.innerHTML=D,V=E(),T&&T.c(),L=ee(),this.h()},l(o){e=g(o,"H1",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-wc6aqi"&&(e.textContent=t),s=I(o),n=g(o,"DIV",{style:!0});var k=H(n);i=g(k,"BUTTON",{});var O=H(i);p=N(O,"音声認識を"),j.l(O),f=I(O),R&&R.l(O),O.forEach(a),k.forEach(a),c=I(o),d=g(o,"DIV",{class:!0});var q=H(d);A&&A.l(q),b=I(q),C=g(q,"SPAN",{class:!0});var Z=H(C);y=N(Z,r[1]),Z.forEach(a),x=I(q),l=g(q,"SPAN",{class:!0});var $=H(l);h=N($,r[0]),$.forEach(a),q.forEach(a),u=I(o),_=g(o,"DIV",{style:!0,"data-svelte-h":!0}),M(_)!=="svelte-17r3pj6"&&(_.innerHTML=D),V=I(o),T&&T.l(o),L=ee(),this.h()},h(){S(e,"class","svelte-c5c5lg"),i.disabled=r[3],J(n,"text-align","center"),J(n,"margin-bottom","1rem"),S(C,"class","final svelte-c5c5lg"),S(l,"class","interim svelte-c5c5lg"),S(d,"class","transcript-area svelte-c5c5lg"),J(_,"text-align","right")},m(o,k){w(o,e,k),w(o,s,k),w(o,n,k),m(n,i),m(i,p),j.m(i,null),m(i,f),R&&R.m(i,null),w(o,c,k),w(o,d,k),A&&A.m(d,null),m(d,b),m(d,C),m(C,y),m(d,x),m(d,l),m(l,h),w(o,u,k),w(o,_,k),w(o,V,k),T&&T.m(o,k),w(o,L,k),F||(X=K(i,"click",r[5]),F=!0)},p(o,[k]){U!==(U=Y(o))&&(j.d(1),j=U(o),j&&(j.c(),j.m(i,f))),o[2]?R||(R=ae(),R.c(),R.m(i,null)):R&&(R.d(1),R=null),k&8&&(i.disabled=o[3]),o[1]===""&&o[0]===""?A||(A=ce(),A.c(),A.m(d,b)):A&&(A.d(1),A=null),k&2&&z(y,o[1]),k&1&&z(h,o[0]),o[4]?T?T.p(o,k):(T=fe(o),T.c(),T.m(L.parentNode,L)):T&&(T.d(1),T=null)},i:B,o:B,d(o){o&&(a(e),a(s),a(n),a(c),a(d),a(u),a(_),a(V),a(L)),j.d(),R&&R.d(),A&&A.d(),T&&T.d(o),F=!1,X()}}}function ye(){const r=window.SpeechRecognition||window.webkitSpeechRecognition;if(!r)return null;const e=new r;return e.continuous=!0,e.interimResults=!0,e.lang="ja-JP",e.maxAlternatives=1,e}function Ce(r,e,t){let s=null,n="",i="",p=!1,f=!1,c="";he(()=>{if(s=ye(),s===null){console.error("SpeechRecognition API is not supported in this browser.");return}s.onresult=d,s.onerror=b,s.onstart=()=>{t(2,p=!0),t(3,f=!1)},s.onend=()=>{t(2,p=!1),t(3,f=!1)}});function d(l){let h="";for(let u=l.resultIndex;u<l.results.length;u++){const _=l.results[u][0].transcript;l.results[u].isFinal?t(1,i+=_):h+=_}t(0,n=h)}function b(l){console.error(`Error: ${l.error}`),l.error==="no-speech"?t(4,c="音声が検出されませんでした。もう一度お試しください。"):t(4,c=`エラーが発生しました: ${l.error}`),t(2,p=!1),t(3,f=!1)}function C(){t(0,n=""),t(1,i=""),t(4,c=""),t(3,f=!0),s==null||s.start()}function y(){t(3,f=!0),s==null||s.stop()}function x(){p?y():C()}return[n,i,p,f,c,x]}class Se extends G{constructor(e){super(),Q(this,e,Ce,we,W,{})}}function ue(r){let e,t="AI is thinking...";return{c(){e=v("p"),e.textContent=t,this.h()},l(s){e=g(s,"P",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-ssirgx"&&(e.textContent=t),this.h()},h(){S(e,"class","loading svelte-3kqm6j")},m(s,n){w(s,e,n)},d(s){s&&a(e)}}}function pe(r){let e,t,s="AI Response:",n,i,p;return{c(){e=v("div"),t=v("h3"),t.textContent=s,n=E(),i=v("p"),p=P(r[1]),this.h()},l(f){e=g(f,"DIV",{class:!0});var c=H(e);t=g(c,"H3",{"data-svelte-h":!0}),M(t)!=="svelte-f7mkil"&&(t.textContent=s),n=I(c),i=g(c,"P",{});var d=H(i);p=N(d,r[1]),d.forEach(a),c.forEach(a),this.h()},h(){S(e,"class","response-text svelte-3kqm6j")},m(f,c){w(f,e,c),m(e,t),m(e,n),m(e,i),m(i,p)},p(f,c){c&2&&z(p,f[1])},d(f){f&&a(e)}}}function Te(r){let e,t,s="AI Text Response Example",n,i,p,f,c,d,b,C,y,x,l=r[2]&&ue(),h=r[1]&&pe(r);return{c(){e=v("div"),t=v("h1"),t.textContent=s,n=E(),i=v("div"),p=v("input"),f=E(),c=v("button"),d=P("Submit"),b=E(),l&&l.c(),C=E(),h&&h.c(),this.h()},l(u){e=g(u,"DIV",{class:!0});var _=H(e);t=g(_,"H1",{"data-svelte-h":!0}),M(t)!=="svelte-1k2yesu"&&(t.textContent=s),n=I(_),i=g(_,"DIV",{});var D=H(i);p=g(D,"INPUT",{type:!0,placeholder:!0}),f=I(D),c=g(D,"BUTTON",{class:!0});var V=H(c);d=N(V,"Submit"),V.forEach(a),D.forEach(a),b=I(_),l&&l.l(_),C=I(_),h&&h.l(_),_.forEach(a),this.h()},h(){S(p,"type","text"),S(p,"placeholder","Ask something..."),S(c,"class","submit-button svelte-3kqm6j"),c.disabled=r[2],S(e,"class","container svelte-3kqm6j")},m(u,_){w(u,e,_),m(e,t),m(e,n),m(e,i),m(i,p),te(p,r[0]),m(i,f),m(i,c),m(c,d),m(e,b),l&&l.m(e,null),m(e,C),h&&h.m(e,null),y||(x=[K(p,"input",r[4]),K(c,"click",r[3])],y=!0)},p(u,[_]){_&1&&p.value!==u[0]&&te(p,u[0]),_&4&&(c.disabled=u[2]),u[2]?l||(l=ue(),l.c(),l.m(e,C)):l&&(l.d(1),l=null),u[1]?h?h.p(u,_):(h=pe(u),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:B,o:B,d(u){u&&a(e),l&&l.d(),h&&h.d(),y=!1,me(x)}}}const Ee="hogehoge";function Ie(r,e,t){let s="",n="",i=!1;async function p(){t(2,i=!0);try{const b=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:s}]})})).json();t(1,n=b.choices[0].message.content)}catch(d){t(1,n="Error occurred while fetching AI response."),console.error(d)}finally{t(2,i=!1)}}function f(){s.trim()!==""&&p()}function c(){s=this.value,t(0,s)}return[s,n,i,f,c]}class Re extends G{constructor(e){super(),Q(this,e,Ie,Te,W,{})}}function Ae(r){let e,t,s,n,i=`<span class="welcome svelte-19xx0bt"><picture><source srcset="${ve}" type="image/webp"/> <img src="${ge}" alt="Welcome" class="svelte-19xx0bt"/></picture></span>

		to your new<br/>SvelteKit app`,p,f,c="try editing <strong>src/routes/+page.svelte</strong>",d,b,C,y,x;return b=new Se({}),y=new Re({}),{c(){e=v("meta"),t=E(),s=v("section"),n=v("h1"),n.innerHTML=i,p=E(),f=v("h2"),f.innerHTML=c,d=E(),se(b.$$.fragment),C=E(),se(y.$$.fragment),this.h()},l(l){const h=de("svelte-t32ptj",document.head);e=g(h,"META",{name:!0,content:!0}),h.forEach(a),t=I(l),s=g(l,"SECTION",{class:!0});var u=H(s);n=g(u,"H1",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-11s73ib"&&(n.innerHTML=i),p=I(u),f=g(u,"H2",{"data-svelte-h":!0}),M(f)!=="svelte-1e36z0s"&&(f.innerHTML=c),d=I(u),le(b.$$.fragment,u),C=I(u),le(y.$$.fragment,u),u.forEach(a),this.h()},h(){document.title="Home",S(e,"name","description"),S(e,"content","Svelte demo app"),S(n,"class","svelte-19xx0bt"),S(s,"class","svelte-19xx0bt")},m(l,h){m(document.head,e),w(l,t,h),w(l,s,h),m(s,n),m(s,p),m(s,f),m(s,d),ne(b,s,null),m(s,C),ne(y,s,null),x=!0},p:B,i(l){x||(re(b.$$.fragment,l),re(y.$$.fragment,l),x=!0)},o(l){ie(b.$$.fragment,l),ie(y.$$.fragment,l),x=!1},d(l){l&&(a(t),a(s)),a(e),oe(b),oe(y)}}}class Pe extends G{constructor(e){super(),Q(this,e,null,Ae,W,{})}}export{Pe as component,je as universal};
