import{s as $,a as me,x as W,u as he,g as ge,b as _e,y as Se,z as B,r as Xe,o as Be,d as ke}from"../chunks/scheduler.BsRx5FeT.js";import{S as ie,i as ae,B as ze,v as fe,C as Re,a as _,d as m,D as de,g as se,h as f,p as C,q as O,E as Pe,l as x,m as ee,o as te,r as ne,e as v,s as M,t as Ae,A as Ue,c as p,f as j,b as Ge,n as I,F as ue,u as Ze,j as Le,w as qe,y as Qe}from"../chunks/index.BE96ZQnQ.js";import{a as He,b as Ke,c as $e}from"../chunks/index.CU4dFde9.js";const xe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Je(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function re(o,e){const s={},t={},n={$$scope:1};let l=o.length;for(;l--;){const i=o[l],c=e[l];if(c){for(const h in i)h in c||(t[h]=1);for(const h in c)n[h]||(s[h]=c[h],n[h]=1);o[l]=c}else for(const h in i)n[h]=1}for(const i in t)i in s||(s[i]=void 0);return s}function Ee(o){return typeof o=="object"&&o!==null?o:{}}const et=!0,tt=!1,yt=Object.freeze(Object.defineProperty({__proto__:null,prerender:et,ssr:tt},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-svelte v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Ye(o,e,s){const t=o.slice();return t[11]=e[s][0],t[12]=e[s][1],t}function we(o){let e,s=[o[12]],t={};for(let n=0;n<s.length;n+=1)t=W(t,s[n]);return{c(){e=ze(o[11]),this.h()},l(n){e=Re(n,o[11],{}),_(e).forEach(m),this.h()},h(){de(e,t)},m(n,l){se(n,e,l)},p(n,l){de(e,t=re(s,[l&32&&n[12]]))},d(n){n&&m(e)}}}function Fe(o){let e=o[11],s,t=o[11]&&we(o);return{c(){t&&t.c(),s=fe()},l(n){t&&t.l(n),s=fe()},m(n,l){t&&t.m(n,l),se(n,s,l)},p(n,l){n[11]?e?$(e,n[11])?(t.d(1),t=we(n),e=n[11],t.c(),t.m(s.parentNode,s)):t.p(n,l):(t=we(n),e=n[11],t.c(),t.m(s.parentNode,s)):e&&(t.d(1),t=null,e=n[11])},d(n){n&&m(s),t&&t.d(n)}}}function nt(o){let e,s,t,n,l,i=Je(o[5]),c=[];for(let a=0;a<i.length;a+=1)c[a]=Fe(Ye(o,i,a));const h=o[10].default,d=me(h,o,o[9],null);let E=[Te,o[7],{width:o[2]},{height:o[2]},{stroke:o[1]},{"stroke-width":t=o[4]?Number(o[3])*24/Number(o[2]):o[3]},{class:n=o[6]("lucide-icon","lucide",o[0]?`lucide-${o[0]}`:"",o[8].class)}],g={};for(let a=0;a<E.length;a+=1)g=W(g,E[a]);return{c(){e=ze("svg");for(let a=0;a<c.length;a+=1)c[a].c();s=fe(),d&&d.c(),this.h()},l(a){e=Re(a,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var u=_(e);for(let r=0;r<c.length;r+=1)c[r].l(u);s=fe(),d&&d.l(u),u.forEach(m),this.h()},h(){de(e,g)},m(a,u){se(a,e,u);for(let r=0;r<c.length;r+=1)c[r]&&c[r].m(e,null);f(e,s),d&&d.m(e,null),l=!0},p(a,[u]){if(u&32){i=Je(a[5]);let r;for(r=0;r<i.length;r+=1){const k=Ye(a,i,r);c[r]?c[r].p(k,u):(c[r]=Fe(k),c[r].c(),c[r].m(e,s))}for(;r<c.length;r+=1)c[r].d(1);c.length=i.length}d&&d.p&&(!l||u&512)&&he(d,h,a,a[9],l?_e(h,a[9],u,null):ge(a[9]),null),de(e,g=re(E,[Te,u&128&&a[7],(!l||u&4)&&{width:a[2]},(!l||u&4)&&{height:a[2]},(!l||u&2)&&{stroke:a[1]},(!l||u&28&&t!==(t=a[4]?Number(a[3])*24/Number(a[2]):a[3]))&&{"stroke-width":t},(!l||u&257&&n!==(n=a[6]("lucide-icon","lucide",a[0]?`lucide-${a[0]}`:"",a[8].class)))&&{class:n}]))},i(a){l||(C(d,a),l=!0)},o(a){O(d,a),l=!1},d(a){a&&m(e),Pe(c,a),d&&d.d(a)}}}function lt(o,e,s){const t=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let n=Se(e,t),{$$slots:l={},$$scope:i}=e,{name:c=void 0}=e,{color:h="currentColor"}=e,{size:d=24}=e,{strokeWidth:E=2}=e,{absoluteStrokeWidth:g=!1}=e,{iconNode:a=[]}=e;const u=(...r)=>r.filter((k,Z,V)=>!!k&&V.indexOf(k)===Z).join(" ");return o.$$set=r=>{s(8,e=W(W({},e),B(r))),s(7,n=Se(e,t)),"name"in r&&s(0,c=r.name),"color"in r&&s(1,h=r.color),"size"in r&&s(2,d=r.size),"strokeWidth"in r&&s(3,E=r.strokeWidth),"absoluteStrokeWidth"in r&&s(4,g=r.absoluteStrokeWidth),"iconNode"in r&&s(5,a=r.iconNode),"$$scope"in r&&s(9,i=r.$$scope)},e=B(e),[c,h,d,E,g,a,u,n,e,i,l]}class Ne extends ie{constructor(e){super(),ae(this,e,lt,nt,$,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function ot(o){let e;const s=o[2].default,t=me(s,o,o[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&he(t,s,n,n[3],e?_e(s,n[3],l,null):ge(n[3]),null)},i(n){e||(C(t,n),e=!0)},o(n){O(t,n),e=!1},d(n){t&&t.d(n)}}}function st(o){let e,s;const t=[{name:"mic-off"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[ot]},$$scope:{ctx:o}};for(let l=0;l<t.length;l+=1)n=W(n,t[l]);return e=new Ne({props:n}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){te(e,l,i),s=!0},p(l,[i]){const c=i&3?re(t,[t[0],i&2&&Ee(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(c.$$scope={dirty:i,ctx:l}),e.$set(c)},i(l){s||(C(e.$$.fragment,l),s=!0)},o(l){O(e.$$.fragment,l),s=!1},d(l){ne(e,l)}}}function it(o,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["line",{x1:"2",x2:"22",y1:"2",y2:"22"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}]];return o.$$set=i=>{s(1,e=W(W({},e),B(i))),"$$scope"in i&&s(3,n=i.$$scope)},e=B(e),[l,e,t,n]}class at extends ie{constructor(e){super(),ae(this,e,it,st,$,{})}}function rt(o){let e;const s=o[2].default,t=me(s,o,o[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&he(t,s,n,n[3],e?_e(s,n[3],l,null):ge(n[3]),null)},i(n){e||(C(t,n),e=!0)},o(n){O(t,n),e=!1},d(n){t&&t.d(n)}}}function ct(o){let e,s;const t=[{name:"mic"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[rt]},$$scope:{ctx:o}};for(let l=0;l<t.length;l+=1)n=W(n,t[l]);return e=new Ne({props:n}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){te(e,l,i),s=!0},p(l,[i]){const c=i&3?re(t,[t[0],i&2&&Ee(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(c.$$scope={dirty:i,ctx:l}),e.$set(c)},i(l){s||(C(e.$$.fragment,l),s=!0)},o(l){O(e.$$.fragment,l),s=!1},d(l){ne(e,l)}}}function ut(o,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}]];return o.$$set=i=>{s(1,e=W(W({},e),B(i))),"$$scope"in i&&s(3,n=i.$$scope)},e=B(e),[l,e,t,n]}class ft extends ie{constructor(e){super(),ae(this,e,ut,ct,$,{})}}function dt(o){let e;const s=o[2].default,t=me(s,o,o[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&he(t,s,n,n[3],e?_e(s,n[3],l,null):ge(n[3]),null)},i(n){e||(C(t,n),e=!0)},o(n){O(t,n),e=!1},d(n){t&&t.d(n)}}}function mt(o){let e,s;const t=[{name:"phone"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[dt]},$$scope:{ctx:o}};for(let l=0;l<t.length;l+=1)n=W(n,t[l]);return e=new Ne({props:n}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,i){te(e,l,i),s=!0},p(l,[i]){const c=i&3?re(t,[t[0],i&2&&Ee(l[1]),i&1&&{iconNode:l[0]}]):{};i&8&&(c.$$scope={dirty:i,ctx:l}),e.$set(c)},i(l){s||(C(e.$$.fragment,l),s=!0)},o(l){O(e.$$.fragment,l),s=!1},d(l){ne(e,l)}}}function ht(o,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]];return o.$$set=i=>{s(1,e=W(W({},e),B(i))),"$$scope"in i&&s(3,n=i.$$scope)},e=B(e),[l,e,t,n]}class gt extends ie{constructor(e){super(),ae(this,e,ht,mt,$,{})}}const{document:ye}=xe;function _t(o){let e,s;return e=new at({props:{class:"w-6 h-6"}}),{c(){x(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,n){te(e,t,n),s=!0},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){O(e.$$.fragment,t),s=!1},d(t){ne(e,t)}}}function bt(o){let e,s;return e=new ft({props:{class:"w-6 h-6"}}),{c(){x(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,n){te(e,t,n),s=!0},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){O(e.$$.fragment,t),s=!1},d(t){ne(e,t)}}}function vt(o){let e,s,t,n,l,i,c,h,d,E,g,a,u,r,k,Z,V,le,P,oe,w,K,F,z,T,Y,D,U,L,be,R,X,S,A,ve,G,q,Q,pe,Me;const je=[bt,_t],H=[];function We(b,J){return b[1]?0:1}return S=We(o),A=H[S]=je[S](o),q=new gt({props:{class:"w-6 h-6"}}),{c(){e=v("meta"),s=M(),t=v("section"),n=v("p"),l=Ae("ID: "),i=v("span"),c=Ae(o[4]),h=M(),d=v("div"),E=M(),g=v("div"),a=M(),u=v("div"),r=v("div"),k=M(),Z=v("div"),V=v("video"),le=M(),P=v("div"),oe=M(),w=v("div"),K=M(),F=v("div"),z=M(),T=v("div"),Y=M(),D=v("div"),U=M(),L=v("div"),be=M(),R=v("div"),X=v("button"),A.c(),ve=M(),G=v("button"),x(q.$$.fragment),this.h()},l(b){const J=Ue("svelte-1j7of3n",ye.head);e=p(J,"META",{name:!0,content:!0}),J.forEach(m),s=j(b),t=p(b,"SECTION",{class:!0});var N=_(t);n=p(N,"P",{});var Ie=_(n);l=Ge(Ie,"ID: "),i=p(Ie,"SPAN",{id:!0});var Ve=_(i);c=Ge(Ve,o[4]),Ve.forEach(m),Ie.forEach(m),h=j(N),d=p(N,"DIV",{id:!0}),_(d).forEach(m),E=j(N),g=p(N,"DIV",{id:!0}),_(g).forEach(m),a=j(N),u=p(N,"DIV",{class:!0});var y=_(u);r=p(y,"DIV",{class:!0}),_(r).forEach(m),k=j(y),Z=p(y,"DIV",{class:!0});var Ce=_(Z);V=p(Ce,"VIDEO",{width:!0}),_(V).forEach(m),Ce.forEach(m),le=j(y),P=p(y,"DIV",{class:!0}),_(P).forEach(m),oe=j(y),w=p(y,"DIV",{class:!0}),_(w).forEach(m),K=j(y),F=p(y,"DIV",{class:!0}),_(F).forEach(m),z=j(y),T=p(y,"DIV",{class:!0}),_(T).forEach(m),Y=j(y),D=p(y,"DIV",{class:!0}),_(D).forEach(m),U=j(y),L=p(y,"DIV",{class:!0}),_(L).forEach(m),y.forEach(m),be=j(N),R=p(N,"DIV",{class:!0});var ce=_(R);X=p(ce,"BUTTON",{class:!0});var Oe=_(X);A.l(Oe),Oe.forEach(m),ve=j(ce),G=p(ce,"BUTTON",{class:!0});var De=_(G);ee(q.$$.fragment,De),De.forEach(m),ce.forEach(m),N.forEach(m),this.h()},h(){ye.title="天才たちの恋愛頭脳戦通話アプリ",I(e,"name","description"),I(e,"content","SvelteKit video call application"),I(i,"id","my-id"),I(d,"id","remote-media-area"),I(g,"id","button-area"),I(r,"class","w-70 h-36 bg-gray-400 rounded-lg"),I(V,"width","400px"),V.muted=!0,V.playsInline=!0,I(Z,"class","border-8 border-black w-80 h-60 "),I(P,"class","border-8 border-black w-80 h-60 cartoon-frame"),I(w,"class","w-70 h-36 bg-gray-400 rounded-lg"),I(F,"class","w-70 h-36 bg-gray-400 rounded-lg"),I(T,"class","border-8 border-black w-80 h-60 cartoon-frame"),I(D,"class","border-8 border-black w-80 h-60 cartoon-frame"),I(L,"class","w-70 h-36 bg-gray-400 rounded-lg"),I(u,"class","grid grid-cols-4 gap-4 mb-8"),I(X,"class","w-12 h-12 rounded-full border-2 border-black flex items-center justify-center bg-gray-200"),I(G,"class","w-12 h-12 rounded-full border-2 border-black flex items-center justify-center transition-colors duration-300"),ue(G,"bg-[#57EEF8]",!o[0]),ue(G,"bg-[#EE1971]",o[0]),I(R,"class","flex space-x-4"),I(t,"class","flex flex-col items-center justify-center min-h-screen")},m(b,J){f(ye.head,e),se(b,s,J),se(b,t,J),f(t,n),f(n,l),f(n,i),f(i,c),f(t,h),f(t,d),o[8](d),f(t,E),f(t,g),o[9](g),f(t,a),f(t,u),f(u,r),f(u,k),f(u,Z),f(Z,V),o[10](V),f(u,le),f(u,P),f(u,oe),f(u,w),f(u,K),f(u,F),f(u,z),f(u,T),f(u,Y),f(u,D),f(u,U),f(u,L),f(t,be),f(t,R),f(R,X),H[S].m(X,null),f(R,ve),f(R,G),te(q,G,null),Q=!0,pe||(Me=[Ze(X,"click",o[7]),Ze(G,"click",o[6])],pe=!0)},p(b,[J]){(!Q||J&16)&&Le(c,b[4]);let N=S;S=We(b),S!==N&&(Qe(),O(H[N],1,1,()=>{H[N]=null}),qe(),A=H[S],A||(A=H[S]=je[S](b),A.c()),C(A,1),A.m(X,null)),(!Q||J&1)&&ue(G,"bg-[#57EEF8]",!b[0]),(!Q||J&1)&&ue(G,"bg-[#EE1971]",b[0])},i(b){Q||(C(A),C(q.$$.fragment,b),Q=!0)},o(b){O(A),O(q.$$.fragment,b),Q=!1},d(b){b&&(m(s),m(t)),m(e),o[8](null),o[9](null),o[10](null),H[S].d(),ne(q),pe=!1,Xe(Me)}}}function pt(o,e,s){let t=!0,n=!0;function l(){s(0,t=!t),t?V():Z()}function i(){s(1,n=!n)}let c,h,d=[],E="",g,a,u,r,k;Be(async()=>{s(5,u=document.getElementById("button-area")),d=Array.from(document.getElementsByClassName("cartoon-frame")),typeof window<"u"&&window.RTCPeerConnection&&(r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI4OGY1OTgwNi1lNWM3LTRmZWYtOGMxMi1jOGQ2ZWRhNTRkYWMiLCJpYXQiOjE3MjY5MTc2MDIsImV4cCI6MTcyNzAwNDAwMiwic2NvcGUiOnsiYXBwIjp7ImlkIjoiZWJlMDBjNjMtMDU1OS00ZjZhLTkyZGEtNWViNGMwNDE1NjVjIiwidHVybiI6dHJ1ZSwiYWN0aW9ucyI6WyJyZWFkIl0sImNoYW5uZWxzIjpbeyJpZCI6IioiLCJuYW1lIjoiKiIsImFjdGlvbnMiOlsid3JpdGUiXSwibWVtYmVycyI6W3siaWQiOiIqIiwibmFtZSI6IioiLCJhY3Rpb25zIjpbIndyaXRlIl0sInB1YmxpY2F0aW9uIjp7ImFjdGlvbnMiOlsid3JpdGUiXX0sInN1YnNjcmlwdGlvbiI6eyJhY3Rpb25zIjpbIndyaXRlIl19fV0sInNmdUJvdHMiOlt7ImFjdGlvbnMiOlsid3JpdGUiXSwiZm9yd2FyZGluZ3MiOlt7ImFjdGlvbnMiOlsid3JpdGUiXX1dfV19XX19fQ.lg0ghxp5uR-WsnIGorzAdZq32IVAV64tQFZZxPKYf50")});async function Z(){a=await He.Create(r),g=await Ke.FindOrCreate(a,{type:"p2p",name:"love_is_war"}),k=await g.join(),s(4,E=k.id);const{audio:w,video:K}=await $e.createMicrophoneAudioAndCameraStream();K.attach(c),await c.play(),await k.publish(w),await k.publish(K);const F=async z=>{if(z.publisher.id===k.id)return;const{stream:T}=await k.subscribe(z.id);let Y,D;const U=d.find(L=>L.childElementCount===0);if(U)switch(T.track.kind){case"video":Y=document.createElement("video"),Y.playsInline=!0,Y.autoplay=!0,T.attach(Y),U.appendChild(Y),D=document.createElement("audio"),D.controls=!1,D.autoplay=!0,T.attach(D),U.appendChild(D);break;case"audio":break;default:return}};g.publications.forEach(F),g.onStreamPublished.add(z=>F(z.publication))}async function V(){k&&(await k.leave(),await g.dispose(),s(4,E=""),u.replaceChildren(),d.forEach(w=>w.replaceChildren()))}function le(w){ke[w?"unshift":"push"](()=>{h=w,s(3,h)})}function P(w){ke[w?"unshift":"push"](()=>{u=w,s(5,u)})}function oe(w){ke[w?"unshift":"push"](()=>{c=w,s(2,c)})}return[t,n,c,h,E,u,l,i,le,P,oe]}class Et extends ie{constructor(e){super(),ae(this,e,pt,vt,$,{})}}export{Et as component,yt as universal};
